# Unit Test


V-Model
- 테스트쪽에서 자주 언급됨 .
폭포수 모델
- 뒤로가는건 불가능 (약점)
왼쪽에있는것이 일반적
각 단계에대해 테스트 설계 
역순으로 진행


프로그래밍을 하는 이유 : 문제(비즈니스 문제)를 풀기위해 

문제가 잘 해결됐는지 어떻게 확신할 수 잇을까 
- 즐거움을 주고싶다는 애매함 
모호한 부분들을 포함한다할지라도 점프를 눌렀는데 공격이 나감. 

잘 정의된 문제, 문제가 해결된 모습을 미리 그려보면 절반 정도는 확실할 수 있게 됨.  (기본적)

뒤로 돌아갈 수 없는 폭포수 모델은 현실에 부합하지 않지만, 폭포수 모델이 다루는 단계들은 매우 유용
V 모델은 각 단계에 대한 테스트를 나누고, 처음부터 어떻게 테스트해야 하는지 결정하려고 노력함. 

폭포수 모델은 뒤로 못돌아감 
하다보면 놓치는것도 많음 
일정 예산잡기에 유리하긴 함

정해진대로만 하는건 거의 없음 

V모델에서 다루는 각 단계를 봐두면 좋다. 
- 각 단계에서 테스트를 만든다. 

요구사항 분석을 통해 만듦


인수테스트 통과 시 요구사항을 만족했다 라고 봄
- 시스템을 다 만들어서 써봐야 안다.

요구사항이 불분명하면 돌아갈 수 있긴 해야함. (모델상 그렇다)

어떤식으로 각 단계를 테스트할 건지 결정을 하고 진행을 해야 협력, 제대로 도ㅒㅆ는지 아닌지 미리 판단 가능 

1. 요구사항 분석 -> 사용자 중심 => 인수 테스트
2. 시스템 설계 -> 시스템 사양 결정 => 시스템 테스트
3. 아키텍처 설계 -> 고수준 설계 => 통합 테스트
4. 모듈 설계 -> 저수준 설계 => 단위 테스트
5. 구현 -> 코딩 


Test Matrix 
- 자세한 테스트 관점
- 품질에 대해 2가지를 많이 얘기함
1. 내부 품질
    - 겜실행 잘 돌아감 내부 깠는데 안에가 이상함, 배션, 펑션 같은게 얼마 있으면 화재날거같고 본네트 등등
    - 전자제품 안에 뜯어볼떄 좀 이상한데 ? 이런것들 
    - 당장의 성과가 보이진않음 
2. 외부 품질
    - 인수 테스트 관점에서 봤을때 결과가 틀리게나오면 잘못
    - 솦이 제대로 만들어졋느닞 아닌지 외부

우리가 일반적으로 말하는건 외부품질 
내부 품질은 당장 큰 성과를 내지 않음 (그래서 놓칠떄가 많음)
- 작업하면서도 인지가 됨, 이렇게가면 큰일나는것을 .. 
- 맛만 좋은 식당 내부를 보니 이상함… 더러움 ..

지속가능한 상태만들기 
- 책상정리안해도 공부는 할 수 있음 
- 하지만 앞으로가 문제임 

테스트는 하나의 관점으로 접근하지 않음 
테스트 목적 : 프로그래밍을 돕는건지, 제품품질, 비즈니스 차원, 기술적인 차원 등 여러가지를 본다. 

내가 문제를 바라볼때 어디에서 생기는가를 볼 수 있음

개발자 테스트 
- QA, 사용자 테스트 등을 통해 발견
- 개발자가 커버해야하는 테스트 

우리가 다루는건 개발자 테스트
- 미리 계획할 수 있는것

테스트 영역이 굉장히 넓지만 우리가 해야하는건 절반
- 우리의 한계를 알자. 가 관건 
- 내적 품질이 우수하면 외적 품질을 끌어올리거나 대응하기 좋음 
- 코드가 깔끔하면 문제가 생겻을때 쉽게 원인 파악하고 고칠 수 있음 
- 사용자에게 도움이 되진않음
- 유지보수, 대응하기좋음, 제품 개선에 좋음

산업혁명이나 정보혁명이 폭발적인 이유 : 도구 자체를 개선하는 도구 의 존재가 장기적으로 생산성을 높임

다음 컴터를위해 지금 컴터를 활용함. (반복)

컴파일러 : 어셈 -> C -> n세대 C
당장에는 도움이 되진 않음 


도구들
JUnit 5 (Unit Test)
- 자동화된 테스트 지원
- 단위 테스트만 지원하진 않고 통합, E2E 테스트를 작성하는데도 사용 
SUnit -> XUnit

단위테스트 관점에서 질문 던지기
- 믿고 쓸 수 있는 부품 인가 ?
    - 메소드, 클래스
- 믿을 수 있는 부품이 있다면 더허게 하면 되는가 ? 
    - 어케 검증하고 나아갈 것인지 

SICP 1.1.7 Newton’s Method 예제 

추정치를 잡음 2의 제곱근 
추정치로 1잡고 평균값을 냄 

추정치를 가지고 제곱근에 가까워 질때까지 바꿈 


맨 처음 몇가지 부품이 있다고 가정하고 코드를 작성 
탑-다운 관점

그래들은 여러 프로젝트르르 갖고 있는 루트가 잇음 


너무 명확한 경우
이정도면 괜찮다 싶은 경우

뭔가 망가질거 같은게 있는경우 계속 테스트를 돌리면서 코드를 작성한다. 
￼

믿을 수 있는 부품인지 여러가지로 해본다. 
이거 믿을 수 있다없다. 확신의 정도는 올라감
증거가 수집됨 


핵심 improve를 만들기 위해 뉴톤법으로 2제곱근을 구하자.

돌려보면 아는값이 정답을 알면 비교하면됨. 

테스트를 하면서 생각 언제 이거를 망가뜨릴까 

테스트 함수를 여러가지로 구분지으면 더 좋음 

Spring과 MOckito 등을 적극적으로 쓰는 테스트 코드를 많이 작성할 거지만, 기본은 여기에 있다.
단순한 유닛 테스트가 제일 많아야 하고 이를 통해 신뢰할 수 있는 토대를 구축해야함.



믿을 수 있는 부품 조립을 잘하면..
조합만 제대로 한다면 ? 


훈련을 계속 해야한다. 



학습 키워드
* V 모델
* Test Matrix
* 내적 품질(테스트 코드 작성등)을 높이면 좋은 이유
* JUnit
* 단위 테스트
* E2E 테스트
* 